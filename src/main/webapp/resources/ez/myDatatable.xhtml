<?xml version="1.0" encoding="UTF-8"?>
<ui:component xmlns="http://www.w3.org/1999/xhtml"
        xmlns:cc="http://xmlns.jcp.org/jsf/composite"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core">

    <cc:interface >
        <cc:attribute name="title" required="true" type="java.lang.String"/>
        <cc:attribute name="cid" required="true" type="java.lang.Integer"/>
    </cc:interface>

    <cc:implementation >
        <table id="dt#{cc.id}" class="display" cellspacing="0" width="50%"/>
        <h:outputScript name="jquery-2.2.0.min.js" library="js" target="head"/>
        <h:outputScript name="datatables.min.js" library="dt" target="head"/>
        <h:outputScript >
            var cols#{cc.id} = <cc:renderFacet name="columns" /> ; 
            var dataSet#{cc.id} = <cc:renderFacet name="dataSet" /> ; 

            $(document).ready(function() {
                $('#dt#{cc.id}').DataTable({
                    data: dataSet#{cc.id}.items,
                    columns: cols#{cc.id}
                });
            });
        </h:outputScript>

    </cc:implementation>
</ui:component>